/*

NOTE: THEY ARE ALREADY INCLUDED IN SQL DUMPS

*/

CREATE TRIGGER UpdateOptionalPoints
BEFORE INSERT ON response
FOR EACH ROW
SET new.points=2*(
SELECT count(new.USERAGE)+count(new.USERSEX)+count(new.USEREXPERIENCE)
)

/*

CREATE TRIGGER UpdateMandatoryPoints
AFTER INSERT ON ANSWER
FOR EACH STATEMENT
UPDATE RESPONSE r SET r.points=r.points+(SELECT count(ANSWER) FROM NEW TABLE as t WHERE t.RESPONSE_ID=r.ID)
WHERE r.ID IN (SELECT DISTINCT RESPONSE_ID FROM NEW TABLE)

BUT "FOR EACH STATEMENT" ARE NOT SUPPORTED IN MYSQL! SO:

*/

CREATE TRIGGER UpdateMandatoryPoints
AFTER INSERT ON answer
FOR EACH ROW
UPDATE response r SET r.POINTS=r.POINTS+1 WHERE r.ID=new.RESPONSE_ID